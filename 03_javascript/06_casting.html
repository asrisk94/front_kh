<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casting</title>
</head>
<body>
    <h1>형변환</h1>
    <h2>문자열, 숫자간 산술연산</h2>

    <input type="button" value="자동형변환" onclick="test1();">
    <input type="button" value="명시적형변환" onclick="test2();">


    <script>

        // 자동형변환
        function test1() {
            console.log('7' + 7);           // '77'
            console.log(typeof('7' + 7));   // 기존 컴퓨터언어 계산대로 String 연산.
            
            console.log('7' - 7);           // 0
            console.log(typeof('7' - 7));   // 빼기 문자열 연산은 없다. 따라서 number로 인식.
            
            console.log('7' / 7);           // 1
            console.log(typeof('7' / 7));   // number
            
            console.log('7' * 7);           // 0
            console.log(typeof('7' * 7));   // number
            
            console.log('7' == 7);           // true
            console.log(typeof('7' == 7));   // boolean
            
            console.log('abc' % 7);           // NaN    ->  Not a Number
            console.log(typeof('abc' % 7));   // number
        }

        /*
        *   명시적 형변환
        *   Number() : 정수/실수로 형변환. 숫자외 문자가 있다면 NaN을 리턴
        *   parseInt() : 정수로 형변환.     문자가 껴있어도 좌측부터 변환 가능한 데까지는 변환
        *   parseFloat : 실수로 형변환.     문자가 껴있어도 좌측부터 변환 가능한 데까지는 변환
        */

        function test2() {

            var money = '1000.50원';

            console.log(money);
            console.log(Number(money));
            console.log(parseInt(money));
            console.log(parseFloat(money));
            
            
            
            var money2 = '$1000.50ㅋㅋㅋ';

            // 정규표현식을 통해 숫자가 아닌 문자를 먼저 제거하는 작업
            money2 = money.replace(/[^0-9.]/g, '');

            console.log(money2);
            console.log(Number(money2));
            console.log(parseInt(money2));
            console.log(parseFloat(money2));
       
        }
    </script>



    <p>@실습문제 : 사용자에게 두 숫자를 입력받고, 결과버튼을 눌렀을 때 두 수의 합을 출력하세요.</p>

    <ul style="list-style: none;">
        <li><input type="number" name="num1" id="num1"></li>
        <li><input type="number" name="num2" id="num2"></li>
        <li><input type="button" value="결과" onclick="test3();"></li>
    </ul>

    <script>
        function test3() {
            var num1 = document.getElementById("num1");
            var num2 = document.querySelector("#num2");

            // input태그의 value는 type속성 상관없이 무조건 string이다.
            console.log(num1.value);
            console.log(num2.value);
            console.log(Number(num1.value) + Number(num2.value));
        }
    </script>



    <h2>NaN | Infinity</h2>

    <input type="button" value="실행" onclick="test4();">

    <script>

        // NaN    Not a Number 숫자가 아니다.

        // Infinity    무한대       js에서는 a/0은 에러가 아니라 infinity라고 정의한다.

        function test4() {
            console.log(10 / 0);
            console.log(typeof(10 / 0));    // type은 여전히 number
            
            // isNaN 함수. (NaN여부 확인)

            console.log(isNaN(10/0));   // 숫자가 아니면 true, 숫자면 false
        }
    </script>

    <h2>논리형으로 자동형변환</h2>

    <input type="button" value="실행" onclick="test5();">

    <script>

        // 값이 있는 것은 true 자동형변환
        // 값이 없는 것은 false로 자동형변환 (NaN, null, 0, "", undefined 등등)

        function test5() {
            // 1, -1, "안녕", document.getElementById("num1") 등은 값이 있어 true로 자동형변환

            // *** document.getElementsByTagName("ipt")   얘는 존재하지 않지만,
            // 태그네임은 여럿을 한번에 부르기 때문에 여럿을 담을 수 있는 껍데기가 존재함.
            // 그래서 요소 존재 여부와 관계없이 true로 나옴.

            if(document.getElementById("num1234")) {
                console.log('참');
            }
            else {
                console.log('거짓');
            }

            //사용자입력값 체크

            var s = prompt("아무말~");
            if(s) {
                console.log(s);
            }
            else {
                console.log("아무말도 하지 않았습니다.");
            }

            // 요소가 존재하는지 체크
            var elem = document.querySelector("#num2"); // 1개 또는 0개 요소 리턴
            var elem = document.querySelectorAll("inputttt");
            // 복수개의 요소가 배열에 담겨 리턴. (비어도 껍데기가 존재)
            // 이 때에는 길이값 체크 등으로 다르게 체크해주어야 한다.

            if(elem) {
                // 요소가 존재하는 경우
                console.log(elem);
            }
            else {
                // 요소가 존재하지 않는 경우
                console.log("요소가 존재하지 않습니다.");
            }


        }

    </script>


</body>
</html>