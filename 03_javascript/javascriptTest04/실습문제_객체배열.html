<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@실습문제_객체배열</title>

    <style>
        img {
            width: 500px;
            margin: 10px 0;
        }
    </style>

</head>
<body>
        <h1>학생 객체 관리</h1>
        <img src="images/실습문제_객체_성적테이블.png" alt="">

        <input type="button" value="실행1" onclick="test1();">
        <input type="button" value="실행2" onclick="test2();">


        <script>

            function test2() {

                var grade1 =  new Grade("김동현", 90, 56, 56, 44, 34);
                var grade2 =  new Grade("홍길동", 45, 76, 34, 33, 56);
                var grade3 =  new Grade("유관순", 76, 34, 54, 56, 22);

                var arr = new Array(grade1, grade2, grade3);

                for(var i in arr) {
                    console.log(arr[i].toString());
                }

            }


            function Grade(name, java, oracle, html5, css3, javascript) {

                this.name = name;
                this.java = java;
                this.oracle = oracle;
                this.html5 = html5;
                this.css3 = css3;
                this.javascript = javascript;

                Grade.prototype.getSum = function() {

                    sum = this.java + this.oracle + this.html5 + this.css3 + this.javascript;
                    return sum;
                }
                Grade.prototype.getAvg = function() {
                    sum = this.getSum();
                    avg = Math.round((sum/5)*10);
                    return avg/10;
                }
                Grade.prototype.toString = function() {
                        
                    var sum = this.getSum();
                    var avg = this.getAvg();

                    return "이름 = " + this.name + ", java = " + this.java
                    + ", oracle = " + this.oracle + ", html5 = "
                    + this.html5 + ", css3 = " + this.css3 + ", javascript = "
                    + this.javascript + ", 합계 = " + sum + ", 평균 = " + avg;
                }
            }

            /*
            function Student(name, java, oracle, html5, css3, javascript){
                this.name = name;
                this.java = java;
                this.oracle = oracle;
                this.html5 = html5;
                this.css3 = css3;
                this.javascript = javascript;          
            }
​
            Student.prototype.getSum = function(){
                return this.java+this.oracle+this.html5+this.css3+this.javascript;
            };
            Student.prototype.getAvg = function(){
                return Math.floor(this.getSum()/5*10)/10;
            };
            Student.prototype.toString = function(){
                return "이름="+this.name+", java="+this.java+", oracle="+this.oracle+
                        ",  html5="+this.html5+", css3="+this.css3+", javascript="+this.javascript+
                        ", 총점="+this.getSum()+", 평점="+this.getAvg();
            };

            이렇게 하는게 맞다.
            */






            function test1() {
                var table1 = {
                    name : "김동현",
                    java : 90,
                    oracle : 56,
                    html5 : 56,
                    css3 : 44,
                    javascript : 34
                }

                var table2 = {
                    name : "홍길동",
                    java : 45,
                    oracle : 76,
                    html5 : 34,
                    css3 : 33,
                    javascript : 56

                }
                var table3 = {
                    name : "유관순",
                    java : 76,
                    oracle : 34,
                    html5 : 54,
                    css3 : 56,
                    javascript : 22

                }

                var tableArr = [table1, table2, table3];

                // override
                for(var i in tableArr) {

                    tableArr[i].sum = tableArr[i].java + tableArr[i].oracle 
                                        + tableArr[i].html5 + tableArr[i].css3 
                                        + tableArr[i].javascript;
                    tableArr[i].avg = (Math.round((tableArr[i].sum/5)*10))/10;

                    tableArr[i].toString = function() {
                        return "이름 = " + this.name + ", java = " + this.java
                        + ", oracle = " + this.oracle + ", html5 = "
                        + this.html5 + ", css3 = " + this.css3 + ", javascript = "
                        + this.javascript + ", 합계 = " + this.sum + ", 평균 = " + this.avg;
                    }
                }

                for(var i in tableArr) {
                    console.log(tableArr[i].toString());
                }

            }            
            
        </script>

</body>
</html>